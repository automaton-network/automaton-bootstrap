<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1291pt" height="785pt"
 viewBox="0.00 0.00 1291.20 785.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 781.4)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-781.4 1287.196,-781.4 1287.196,4 -4,4"/>
<!-- 4 -->
<g id="node1" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-271.9 0,-598.3 1283.196,-598.3 1283.196,-271.9 0,-271.9"/>
<text text-anchor="middle" x="641.598" y="-581.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="641.598" y="-564.9" font-family="Times,serif" font-size="14.00" fill="#000000">Proposals</text>
<polyline fill="none" stroke="#000000" points="0,-556.7 1283.196,-556.7 "/>
<text text-anchor="start" x="8" y="-540.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-523.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PROPOSAL_START_PERIOD: uint256</text>
<text text-anchor="start" x="8" y="-506.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CONTEST_PERIOD: uint256</text>
<text text-anchor="start" x="8" y="-489.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MSB_SET: uint256</text>
<text text-anchor="start" x="8" y="-472.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UINT256_MAX: uint256</text>
<polyline fill="none" stroke="#000000" points="0,-464.7 1283.196,-464.7 "/>
<text text-anchor="start" x="8" y="-448.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-431.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; validBallotBoxID(self: Data, id: uint256)</text>
<text text-anchor="start" x="8" y="-414.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createBallotBox(self: Data, _choices: uint256, _numSlots: uint256): (id: uint256)</text>
<text text-anchor="start" x="8" y="-397.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createProposal(self: Data, num_slots: uint256, contributor: address, title: string, documents_link: string, documents_hash: bytes, budget_period_len: uint256, num_periods: uint256, budget_per_period: uint256): (id: uint256)</text>
<text text-anchor="start" x="8" y="-380.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;payForGas(self: Data, _id: uint256, _slotsToPay: uint256)</text>
<text text-anchor="start" x="8" y="-364.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcVoteDifference(self: Data, _id: uint256): int256</text>
<text text-anchor="start" x="8" y="-347.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;castVote(self: Data, _id: uint256, _slot: uint256, _choice: uint8)</text>
<text text-anchor="start" x="8" y="-330.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getVote(self: Data, _id: uint256, _slot: uint256): uint256</text>
<text text-anchor="start" x="8" y="-313.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateProposalState(self: Data, _id: uint256): (_return_to_treasury: bool)</text>
<text text-anchor="start" x="8" y="-296.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;claimReward(self: Data, _id: uint256, _budget: uint256): (_is_sender_transfer_allowed: bool, _return_to_treasury: uint256)</text>
<text text-anchor="start" x="8" y="-280.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;completeProposal(self: Data, _id: uint256)</text>
</g>
<!-- 5 -->
<g id="node7" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="326.6165,-635.3 326.6165,-776.9 956.5795,-776.9 956.5795,-635.3 326.6165,-635.3"/>
<text text-anchor="middle" x="641.598" y="-760.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="641.598" y="-743.5" font-family="Times,serif" font-size="14.00" fill="#000000">Util</text>
<polyline fill="none" stroke="#000000" points="326.6165,-735.3 956.5795,-735.3 "/>
<text text-anchor="middle" x="641.598" y="-718.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="326.6165,-710.5 956.5795,-710.5 "/>
<text text-anchor="start" x="334.6165" y="-693.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="334.6165" y="-677.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAddressFromPubKey(pubkeyX: bytes32, pubkeyY: bytes32): uint256</text>
<text text-anchor="start" x="334.6165" y="-660.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;verifySignature(pubkeyX: bytes32, pubkeyY: bytes32, hash: bytes32, v: uint8, r: bytes32, s: bytes32): bool</text>
<text text-anchor="start" x="334.6165" y="-643.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;msb(x: uint256): (r: uint8)</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge6" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M641.598,-598.6044C641.598,-607.5846 641.598,-616.3932 641.598,-624.8629"/>
<polygon fill="#000000" stroke="#000000" points="638.0981,-625.0148 641.598,-635.0148 645.0981,-625.0149 638.0981,-625.0148"/>
</g>
<!-- 4struct0 -->
<g id="node2" class="node">
<title>4struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="65.9022,-25.7 65.9022,-209.7 307.2938,-209.7 307.2938,-25.7 65.9022,-25.7"/>
<text text-anchor="middle" x="186.598" y="-193.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="186.598" y="-176.3" font-family="Times,serif" font-size="14.00" fill="#000000">BallotBox</text>
<polyline fill="none" stroke="#000000" points="65.9022,-168.1 307.2938,-168.1 "/>
<text text-anchor="start" x="73.9022" y="-151.5" font-family="Times,serif" font-size="14.00" fill="#000000">state: BallotBoxState</text>
<text text-anchor="start" x="73.9022" y="-134.7" font-family="Times,serif" font-size="14.00" fill="#000000">numChoices: uint256</text>
<text text-anchor="start" x="73.9022" y="-117.9" font-family="Times,serif" font-size="14.00" fill="#000000">numSlots: uint256</text>
<text text-anchor="start" x="73.9022" y="-101.1" font-family="Times,serif" font-size="14.00" fill="#000000">paidSlots: uint256</text>
<text text-anchor="start" x="73.9022" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000">votes: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="73.9022" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000">voteCount: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="73.9022" y="-50.7" font-family="Times,serif" font-size="14.00" fill="#000000">payGas1: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="73.9022" y="-33.9" font-family="Times,serif" font-size="14.00" fill="#000000">payGas2: mapping(uint256=&gt;uint256)</text>
</g>
<!-- 4struct0&#45;&gt;4 -->
<g id="edge1" class="edge">
<title>4struct0&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M284.7102,-209.9366C295.2535,-218.8116 306.002,-227.455 316.598,-235.4 329.7084,-245.2304 343.3208,-255.0262 357.2155,-264.7022"/>
<polygon fill="#000000" stroke="#000000" points="357.5073,-264.9038 364.7174,-265.0238 367.3798,-271.7254 360.1697,-271.6054 357.5073,-264.9038"/>
</g>
<!-- 4struct1 -->
<g id="node3" class="node">
<title>4struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="325.7498,-.5 325.7498,-234.9 491.4462,-234.9 491.4462,-.5 325.7498,-.5"/>
<text text-anchor="middle" x="408.598" y="-218.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="408.598" y="-201.5" font-family="Times,serif" font-size="14.00" fill="#000000">Proposal</text>
<polyline fill="none" stroke="#000000" points="325.7498,-193.3 491.4462,-193.3 "/>
<text text-anchor="start" x="333.7498" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000">contributor: address</text>
<text text-anchor="start" x="333.7498" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000">title: string</text>
<text text-anchor="start" x="333.7498" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000">documentsLink: string</text>
<text text-anchor="start" x="333.7498" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">documentsHash: bytes</text>
<text text-anchor="start" x="333.7498" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">budgetPeriodLen: uint256</text>
<text text-anchor="start" x="333.7498" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">remainingPeriods: uint256</text>
<text text-anchor="start" x="333.7498" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">budgetPerPeriod: uint256</text>
<text text-anchor="start" x="333.7498" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">nextPaymentDate: uint256</text>
<text text-anchor="start" x="333.7498" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">state: ProposalState</text>
<text text-anchor="start" x="333.7498" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">initialEndDate: uint256</text>
<text text-anchor="start" x="333.7498" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000">contestEndDate: uint256</text>
</g>
<!-- 4struct1&#45;&gt;4 -->
<g id="edge2" class="edge">
<title>4struct1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M491.7296,-230.9444C499.108,-240.9956 506.6815,-251.3125 514.3173,-261.7142"/>
<polygon fill="#000000" stroke="#000000" points="514.5519,-262.0338 521.3269,-264.5034 521.653,-271.7072 514.878,-269.2375 514.5519,-262.0338"/>
</g>
<!-- 4struct2 -->
<g id="node4" class="node">
<title>4struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="509.2381,-42.5 509.2381,-192.9 773.9579,-192.9 773.9579,-42.5 509.2381,-42.5"/>
<text text-anchor="middle" x="641.598" y="-176.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="641.598" y="-159.5" font-family="Times,serif" font-size="14.00" fill="#000000">Data</text>
<polyline fill="none" stroke="#000000" points="509.2381,-151.3 773.9579,-151.3 "/>
<text text-anchor="start" x="517.2381" y="-134.7" font-family="Times,serif" font-size="14.00" fill="#000000">approvalPercentage: int256</text>
<text text-anchor="start" x="517.2381" y="-117.9" font-family="Times,serif" font-size="14.00" fill="#000000">contestPercentage: int256</text>
<text text-anchor="start" x="517.2381" y="-101.1" font-family="Times,serif" font-size="14.00" fill="#000000">treasuryLimitPercentage: uint256</text>
<text text-anchor="start" x="517.2381" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000">ballotBoxIDs: uint256</text>
<text text-anchor="start" x="517.2381" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000">ballotBoxes: mapping(uint256=&gt;BallotBox)</text>
<text text-anchor="start" x="517.2381" y="-50.7" font-family="Times,serif" font-size="14.00" fill="#000000">proposals: mapping(uint256=&gt;Proposal)</text>
</g>
<!-- 4struct2&#45;&gt;4 -->
<g id="edge3" class="edge">
<title>4struct2&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M641.598,-192.9194C641.598,-213.2134 641.598,-236.0535 641.598,-259.3899"/>
<polygon fill="#000000" stroke="#000000" points="641.5981,-259.6277 645.598,-265.6278 641.598,-271.6277 637.598,-265.6277 641.5981,-259.6277"/>
</g>
<!-- 4enum0 -->
<g id="node5" class="node">
<title>4enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="791.8217,-59.3 791.8217,-176.1 893.3743,-176.1 893.3743,-59.3 791.8217,-59.3"/>
<text text-anchor="middle" x="842.598" y="-159.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="842.598" y="-142.7" font-family="Times,serif" font-size="14.00" fill="#000000">BallotBoxState</text>
<polyline fill="none" stroke="#000000" points="791.8217,-134.5 893.3743,-134.5 "/>
<text text-anchor="start" x="799.8217" y="-117.9" font-family="Times,serif" font-size="14.00" fill="#000000">Uninitialized</text>
<text text-anchor="start" x="799.8217" y="-101.1" font-family="Times,serif" font-size="14.00" fill="#000000">PrepayingGas</text>
<text text-anchor="start" x="799.8217" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000">Active</text>
<text text-anchor="start" x="799.8217" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000">Inactive</text>
</g>
<!-- 4enum0&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>4enum0&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M814.7662,-176.3694C805.1419,-195.5072 793.9179,-216.648 782.598,-235.4 777.3956,-244.018 771.9469,-252.7533 766.3421,-261.5103"/>
<polygon fill="#000000" stroke="#000000" points="766.2094,-261.7157 766.3124,-268.9261 759.6963,-271.7944 759.5933,-264.584 766.2094,-261.7157"/>
</g>
<!-- 4enum1 -->
<g id="node6" class="node">
<title>4enum1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="911.105,-42.5 911.105,-192.9 1004.091,-192.9 1004.091,-42.5 911.105,-42.5"/>
<text text-anchor="middle" x="957.598" y="-176.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="957.598" y="-159.5" font-family="Times,serif" font-size="14.00" fill="#000000">ProposalState</text>
<polyline fill="none" stroke="#000000" points="911.105,-151.3 1004.091,-151.3 "/>
<text text-anchor="start" x="919.105" y="-134.7" font-family="Times,serif" font-size="14.00" fill="#000000">Uninitialized</text>
<text text-anchor="start" x="919.105" y="-117.9" font-family="Times,serif" font-size="14.00" fill="#000000">Started</text>
<text text-anchor="start" x="919.105" y="-101.1" font-family="Times,serif" font-size="14.00" fill="#000000">Accepted</text>
<text text-anchor="start" x="919.105" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000">Rejected</text>
<text text-anchor="start" x="919.105" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000">Contested</text>
<text text-anchor="start" x="919.105" y="-50.7" font-family="Times,serif" font-size="14.00" fill="#000000">Completed</text>
</g>
<!-- 4enum1&#45;&gt;4 -->
<g id="edge5" class="edge">
<title>4enum1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M928.9774,-193.0953C921.5803,-207.8998 912.7766,-222.7461 902.598,-235.4 895.0883,-244.736 887.0543,-253.8841 878.6327,-262.8123"/>
<polygon fill="#000000" stroke="#000000" points="878.4207,-263.0319 877.1318,-270.1269 870.0869,-271.666 871.3757,-264.571 878.4207,-263.0319"/>
</g>
</g>
</svg>
